!function(r){var e={};function t(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return r[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=r,t.c=e,t.d=function(r,e,n){t.o(r,e)||Object.defineProperty(r,e,{enumerable:!0,get:n})},t.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},t.t=function(r,e){if(1&e&&(r=t(r)),8&e)return r;if(4&e&&"object"==typeof r&&r&&r.__esModule)return r;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:r}),2&e&&"string"!=typeof r)for(var o in r)t.d(n,o,function(e){return r[e]}.bind(null,o));return n},t.n=function(r){var e=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(e,"a",e),e},t.o=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)},t.p="",t(t.s=4)}([function(r,e,t){"use strict";const n=t(1),o=(t(2),t(3)),a=BigInt("0xfffffe0000000000"),i=BigInt("1000000000000000000000000000"),c=BigInt("100000000000000000000000000000"),s=r=>{const e=BigInt(r),t=e/c,n=e-t*c,o=n/i,a=n-o*i,s={};return s.banano=t.toString(),s.banoshi=o.toString(),s.raw=a.toString(),s},u=r=>{const e=new Uint8Array(r.length/2);for(let t=0;t<e.length;t++)e[t]=parseInt(r.substring(2*t,2*t+2),16);return e},l=r=>Buffer.from(r).toString("hex").toUpperCase(),f=r=>{if(void 0===r)throw Error("block is a required parameter.");if(void 0===r.account)throw Error("block.account is a required parameter.");if(void 0===r.previous)throw Error("block.previous is a required parameter.");if(void 0===r.representative)throw Error("block.representative is a required parameter.");if(void 0===r.balance)throw Error("block.balance is a required parameter.");if(void 0===r.link)throw Error("block.link is a required parameter.");const e=n.blake2bInit(32,null);n.blake2bUpdate(e,u("0000000000000000000000000000000000000000000000000000000000000006")),n.blake2bUpdate(e,u(p(r.account))),n.blake2bUpdate(e,u(r.previous)),n.blake2bUpdate(e,u(p(r.representative)));let t=BigInt(r.balance).toString(16);for(;t.length<32;)t="0"+t;const o=u(t);return n.blake2bUpdate(e,o),n.blake2bUpdate(e,u(r.link)),l(n.blake2bFinal(e))},w=r=>{const e=r.length/4*5,t=new Uint8Array(e);for(let n=1;n<=e;n++){const e=n-1,o=n%5,a=e-(n-o)/5,i=r[a-1]<<5-o,c=r[a]>>o;t[e]=(c+i)%16}return t},d=r=>{const e=new Uint8Array(2*r.length);for(let t=0;t<r.length;t++)e[2*t]=r[t]/16|0,e[2*t+1]=r[t]%16;return e},g=r=>{const e=r.length/2,t=new Uint8Array(e);for(let n=0;n<e;n++)t[n]=16*r[2*n]+r[2*n+1];return t},h=r=>{const e="13456789abcdefghijkmnopqrstuwxyz".split(""),t=r.length,n=r.split(""),o=new Uint8Array(t);for(let r=0;r<t;r++)o[r]=e.indexOf(n[r]);return o},y=r=>{const e=new RegExp("^[13456789abcdefghijkmnopqrstuwxyz]+$").test(r),t={};return t.valid=e,t.message=e?"":"does not match regex '^[13456789abcdefghijkmnopqrstuwxyz]+$'",t},p=r=>{if(void 0===r)throw Error("Undefined BANANO Account");let e;if(r.startsWith("camo")){if(!r.startsWith("camo_1")&&!r.startsWith("camo_3")||65!==r.length)throw Error(`Invalid CAMO BANANO Account prefix '${r}'`);e=r.substring(5,65)}else{if(!r.startsWith("ban_1")&&!r.startsWith("ban_3")||64!==r.length)throw Error(`Invalid BANANO Account prefix '${r}'`);e=r.substring(4,64)}const t=y(e);if(!t.valid)throw Error(`Invalid BANANO Account '${r}', ${t.message}`);const o=(r=>{const e=r.length-1,t=new Uint8Array(e);for(let n=0;n<e;n++)t[n]=r[n+1];return t})(w(h(e.substring(0,52)))),a=w(h(e.substring(52,60))),i=g(o),c=n.blake2b(i,null,5).reverse(),s=a,u=d(c);if(!((r,e)=>{for(let t=0;t<r.length;t++)if(r[t]!=e[t])return!1;return!0})(s,u)){const r=k(A(s)),e=k(A(u));throw Error(`Incorrect checksum ${r} <> ${e}`)}return(r=>{let e="";for(let t=0;t<r.length;t++)e+=r[t].toString(16).toUpperCase();return e})(o)},v=(r,e=null)=>{const t=r.toString().split(""),n=[];let o="";const a=[];let i,c;for(;t.length;)for(c=1*t.shift(),i=0;c||i<n.length;i++)c+=10*(n[i]||0),n[i]=c%16,c=(c-n[i])/16;for(;n.length;)a.push(n.pop().toString(16));if(o=a.join(""),o.length%2!=0&&(o="0"+o),e>o.length/2){const r=e-o.length/2;for(let e=0;e<r;e++)o="00"+o}return o},b=(r,e)=>{const t=(r=>{const e=r.length/2|0,t=new Uint8Array(e);for(let n=0;n<e;n++)t[n]=parseInt(r.substr(2*n,2),16);return t})(v(e,4)),o=n.blake2bInit(32);return n.blake2bUpdate(o,r),n.blake2bUpdate(o,t),n.blake2bFinal(o)},A=r=>{const e=r.length/5*4,t=new Uint8Array(e);for(let n=1;n<=e;n++){const o=n-1,a=n%4,i=o+(n-a)/4,c=r[i]<<a;let s;s=(e-n)%4==0?r[i-1]<<4:r[i+1]>>4-a,t[o]=(s+c)%32}return t},m=r=>{const e=g(x(r)),t=k(A(d(n.blake2b(e,null,5).reverse())));return`${k(A(x(`0${r}`)))}${t}`},E=r=>`ban_${m(r)}`,k=r=>{const e="13456789abcdefghijkmnopqrstuwxyz".split("");let t="";for(let n=0;n<r.length;n++)t+=e[r[n]];return t},x=r=>{const e=new Uint8Array(r.length);for(let t=0;t<r.length;t++)e[t]=parseInt(r.substr(t,1),16);return e},P=(r,e)=>{const t=u(f(e)),n=u(r),a=o.sign.detached(t,n);return l(a)},U=(r,e)=>{const t=n.blake2bInit(8);n.blake2bUpdate(t,e),n.blake2bUpdate(t,r);const o=n.blake2bFinal(t).reverse(),i=l(o),c=BigInt("0x"+i),s=c>=a;return s},B=r=>{let e=r.length-1;for(;e>=0;e--){if(255^r[e])return void r[e]++;r[e]=0}},S=r=>{const e=(t=u(r),o.sign.keyPair.fromSecretKey(t));var t;return l(e.publicKey)},K=r=>{const e=new RegExp("^[0123456789abcdefABCDEF]{64}$").test(r),t={};return t.valid=e,t.message=e?"":"does not match regex '^[0123456789abcdefABCDEF]{64}$'",t},_=(r,e)=>{if(void 0===r)throw Error("seed is a required parameter.");if(void 0===e)throw Error("seedIx is a required parameter.");const t=K(r);if(!t.valid)throw Error(`Invalid BANANO seed '${r}', ${t.message}`);const n=u(r),o=b(n,e);return l(o)},q=async(r,e,t,n)=>await I(r,e,t,n,void 0),I=async(r,e,t,n,o,a)=>await F(r,e,t,n,o,void 0),F=async(r,e,t,n,o,a)=>{if(void 0===r)throw Error("bananodeApi is a required parameter.");if(void 0===e)throw Error("privateKey is a required parameter.");if(void 0===t)throw Error("destAccount is a required parameter.");if(void 0===n)throw Error("amountRaw is a required parameter.");const i=S(e);const c=E(i);const l=await r.getAccountInfo(c);if(null==l)throw Error("The server's account info cannot be retrieved, please try again.");const f=l.balance;if(null==f)throw Error("The server's account balance cannot be retrieved, please try again.");if(BigInt(f)<BigInt(n)){const r=s(f),e=s(n);throw Error(`The server's account balance of ${r.banano} bananos is too small, cannot withdraw ${e.banano} bananos.`)}const w=BigInt(f)-BigInt(n),d=w.toString(10);let g,h,y=w.toString(16);for(;y.length<32;)y="0"+y;if(g=void 0!==o?o:await r.getAccountRepresentative(c),h=void 0!==a?a:l.frontier,""!=h){u(h);const n={type:"state"};n.account=c,n.previous=h,n.representative=g,n.balance=d,n.link=p(t),n.signature=P(e,n);const o=await r.process(n);return o}};e.decToHex=v,e.incrementBytes=B,e.getAccountValidationInfo=r=>{if(null===r)return{message:"Invalid BANANO Account (null)",valid:!1};if(void 0===r)return{message:"Invalid BANANO Account (undefined)",valid:!1};if(64!=r.length)return{message:"Invalid BANANO Account (not 64 characters)",valid:!1};if(!r.startsWith("ban_1")&&!r.startsWith("ban_3"))return{message:"Invalid BANANO Account (does not start with ban_1 or ban_3)",valid:!1};const e=r.substring(4,64);if(!/^[13456789abcdefghijkmnopqrstuwxyz]+$/.test(e))return{message:"Invalid BANANO account (characters after ban_ must be one of:13456789abcdefghijkmnopqrstuwxyz)",valid:!1};try{p(r)}catch(r){return{message:`Invalid BANANO account (${r.message})`,valid:!1}}return{message:"valid",valid:!0}},e.receive=async(r,e,t,n,o,a,i)=>{if(void 0===r)throw Error("bananodeApi is a required parameter.");if(void 0===e)throw Error("privateKey is a required parameter.");if(void 0===t)throw Error("publicKey is a required parameter.");if(void 0===n)throw Error("representative is a required parameter.");if(void 0===o)throw Error("previous is a required parameter.");if(void 0===a)throw Error("hash is a required parameter.");if(void 0===i)throw Error("valueRaw is a required parameter.");const c=await r.getGeneratedWork(o),s=E(t),u={type:"state"};u.account=s,u.previous=o,u.representative=n,u.balance=i,u.link=a,u.work=c,u.signature=P(e,u);try{const e=await r.process(u);return e}catch(r){throw Error(JSON.stringify(r))}},e.open=async(r,e,t,n,o,a)=>{const i=await r.getGeneratedWork(t),c=E(t),s={type:"state"};s.account=c,s.previous="0000000000000000000000000000000000000000000000000000000000000000",s.representative=n,s.balance=a,s.link=o,s.work=i,s.signature=P(e,s);try{const e=await r.process(s);return e}catch(r){throw Error(JSON.stringify(r))}},e.change=async(r,e,t)=>{if(void 0===r)throw Error("bananodeApi is a required parameter.");if(void 0===e)throw Error("privateKey is a required parameter.");if(void 0===t)throw Error("representative is a required parameter.");const n=S(e),o=E(n),a=await r.getAccountInfo(o);if(null==a)throw Error("The server's account info cannot be retrieved, please try again.");const i=a.frontier,c=await r.getGeneratedWork(i),s=a.balance;if(null==s)throw Error("The server's account balance cannot be retrieved, please try again.");const u=BigInt(s).toString(10),l={type:"state"};l.account=o,l.previous=i,l.representative=t,l.balance=u,l.link="0000000000000000000000000000000000000000000000000000000000000000",l.work=c,l.signature=P(e,l);try{const e=await r.process(l);return e}catch(r){throw Error(JSON.stringify(r))}},e.getRawStrFromBanoshiStr=r=>(BigInt(r)*i).toString(),e.getRawStrFromBananoStr=r=>{if(null==r)throw Error("bananoStr is a required parameter.");if("string"!=typeof r)throw Error(`'${r}' is not a string.`);const e=r.indexOf(".");let t=BigInt("1");if(-1!==e){const n=(r=r.replace(".","")).length-e;t=BigInt("10")**BigInt(n)}return(BigInt(r)*c/t).toString()},e.getAccount=E,e.getPublicKey=S,e.getPrivateKey=_,e.hash=f,e.sign=P,e.getAccountPublicKey=p,e.send=async(r,e,t,n,o,a,i)=>{if(void 0===r)throw Error("bananodeApi is a required parameter.");if(void 0===e)throw Error("privateKey is a required parameter.");if(void 0===t)throw Error("privateKey is a required parameter.");if(void 0===n)throw Error("destAccount is a required parameter.");if(void 0===o)throw Error("amountRaw is a required parameter.");if(void 0===a)throw Error("successCallback is a required parameter.");if(void 0===i)throw Error("failureCallback is a required parameter.");const c=_(e,t);await q(r,c,n,o).then(r=>{a(r)}).catch(r=>{i(r)})},e.getHashCPUWorker=(r,e)=>{if(void 0===r)throw Error("hash is a required parameter.");if(void 0===e)throw Error("workBytes is a required parameter.");const t=u(r),n=process.hrtime.bigint();let o=U(t,e),a=process.hrtime.bigint()-n,i=BigInt(0);for(;!o;){const r=process.hrtime.bigint();B(e),i+=process.hrtime.bigint()-r;const n=process.hrtime.bigint();o=U(t,e),a+=process.hrtime.bigint()-n}const c=l(e.reverse());return c},e.getZeroedWorkBytes=()=>new Uint8Array(8),e.bytesToHex=l,e.hexToBytes=u,e.isWorkValid=U,e.getBananoPartsFromRaw=s,e.sendFromPrivateKey=q,e.sendFromPrivateKeyWithRepresentative=I,e.sendFromPrivateKeyWithRepresentativeAndPrevious=F,e.getAccountSuffix=m,e.isAccountSuffixValid=y,e.isAccountOpen=async(r,e)=>0!==(await r.getAccountHistory(e,1)).history.length,e.isSeedValid=K},function(r,e){r.exports=require("blakejs")},function(r,e){r.exports=require("crypto")},function(r,e,t){"use strict";const n=t(1);var o=function(r,e){this.hi=0|r,this.lo=0|e},a=function(r){var e,t=new Float64Array(16);if(r)for(e=0;e<r.length;e++)t[e]=r[e];return t},i=function(){throw new Error("no PRNG")},c=new Uint8Array(16),s=new Uint8Array(32);s[0]=9;var u=a(),l=a([1]),f=a([56129,1]),w=a([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),d=a([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),g=a([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=a([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),y=a([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(r,e){return r<<e|r>>>32-e}function v(r,e){var t=255&r[e+3];return(t=(t=t<<8|255&r[e+2])<<8|255&r[e+1])<<8|255&r[e+0]}function b(r,e){var t=r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3],n=r[e+4]<<24|r[e+5]<<16|r[e+6]<<8|r[e+7];return new o(t,n)}function A(r,e,t){var n;for(n=0;n<4;n++)r[e+n]=255&t,t>>>=8}function m(r,e,t){r[e]=t.hi>>24&255,r[e+1]=t.hi>>16&255,r[e+2]=t.hi>>8&255,r[e+3]=255&t.hi,r[e+4]=t.lo>>24&255,r[e+5]=t.lo>>16&255,r[e+6]=t.lo>>8&255,r[e+7]=255&t.lo}function E(r,e,t,n,o){var a,i=0;for(a=0;a<o;a++)i|=r[e+a]^t[n+a];return(1&i-1>>>8)-1}function k(r,e,t,n){return E(r,e,t,n,16)}function x(r,e,t,n){return E(r,e,t,n,32)}function P(r,e,t,n,o){var a,i,c,s=new Uint32Array(16),u=new Uint32Array(16),l=new Uint32Array(16),f=new Uint32Array(4);for(a=0;a<4;a++)u[5*a]=v(n,4*a),u[1+a]=v(t,4*a),u[6+a]=v(e,4*a),u[11+a]=v(t,16+4*a);for(a=0;a<16;a++)l[a]=u[a];for(a=0;a<20;a++){for(i=0;i<4;i++){for(c=0;c<4;c++)f[c]=u[(5*i+4*c)%16];for(f[1]^=p(f[0]+f[3]|0,7),f[2]^=p(f[1]+f[0]|0,9),f[3]^=p(f[2]+f[1]|0,13),f[0]^=p(f[3]+f[2]|0,18),c=0;c<4;c++)s[4*i+(i+c)%4]=f[c]}for(c=0;c<16;c++)u[c]=s[c]}if(o){for(a=0;a<16;a++)u[a]=u[a]+l[a]|0;for(a=0;a<4;a++)u[5*a]=u[5*a]-v(n,4*a)|0,u[6+a]=u[6+a]-v(e,4*a)|0;for(a=0;a<4;a++)A(r,4*a,u[5*a]),A(r,16+4*a,u[6+a])}else for(a=0;a<16;a++)A(r,4*a,u[a]+l[a]|0)}function U(r,e,t,n){return P(r,e,t,n,!1),0}function B(r,e,t,n){return P(r,e,t,n,!0),0}var S=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function K(r,e,t,n,o,a,i){var c,s,u=new Uint8Array(16),l=new Uint8Array(64);if(!o)return 0;for(s=0;s<16;s++)u[s]=0;for(s=0;s<8;s++)u[s]=a[s];for(;o>=64;){for(U(l,u,i,S),s=0;s<64;s++)r[e+s]=(t?t[n+s]:0)^l[s];for(c=1,s=8;s<16;s++)c=c+(255&u[s])|0,u[s]=255&c,c>>>=8;o-=64,e+=64,t&&(n+=64)}if(o>0)for(U(l,u,i,S),s=0;s<o;s++)r[e+s]=(t?t[n+s]:0)^l[s];return 0}function _(r,e,t,n,o){return K(r,e,null,0,t,n,o)}function q(r,e,t,n,o){var a=new Uint8Array(32);return B(a,n,o,S),_(r,e,t,n.subarray(16),a)}function I(r,e,t,n,o,a,i){var c=new Uint8Array(32);return B(c,a,i,S),K(r,e,t,n,o,a.subarray(16),c)}function F(r,e){var t,n=0;for(t=0;t<17;t++)n=n+(r[t]+e[t]|0)|0,r[t]=255&n,n>>>=8}var R=new Uint32Array([5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,252]);function O(r,e,t,n,o,a){var i,c,s,u,l=new Uint32Array(17),f=new Uint32Array(17),w=new Uint32Array(17),d=new Uint32Array(17),g=new Uint32Array(17);for(s=0;s<17;s++)f[s]=w[s]=0;for(s=0;s<16;s++)f[s]=a[s];for(f[3]&=15,f[4]&=252,f[7]&=15,f[8]&=252,f[11]&=15,f[12]&=252,f[15]&=15;o>0;){for(s=0;s<17;s++)d[s]=0;for(s=0;s<16&&s<o;++s)d[s]=t[n+s];for(d[s]=1,n+=s,o-=s,F(w,d),c=0;c<17;c++)for(l[c]=0,s=0;s<17;s++)l[c]=0|l[c]+w[s]*(s<=c?f[c-s]:320*f[c+17-s]|0);for(c=0;c<17;c++)w[c]=l[c];for(u=0,s=0;s<16;s++)u=u+w[s]|0,w[s]=255&u,u>>>=8;for(u=u+w[16]|0,w[16]=3&u,u=5*(u>>>2)|0,s=0;s<16;s++)u=u+w[s]|0,w[s]=255&u,u>>>=8;u=u+w[16]|0,w[16]=u}for(s=0;s<17;s++)g[s]=w[s];for(F(w,R),i=0|-(w[16]>>>7),s=0;s<17;s++)w[s]^=i&(g[s]^w[s]);for(s=0;s<16;s++)d[s]=a[s+16];for(d[16]=0,F(w,d),s=0;s<16;s++)r[e+s]=w[s];return 0}function N(r,e,t,n,o,a){var i=new Uint8Array(16);return O(i,0,t,n,o,a),k(r,e,i,0)}function C(r,e,t,n,o){var a;if(t<32)return-1;for(I(r,0,e,0,t,n,o),O(r,16,r,32,t-32,r),a=0;a<16;a++)r[a]=0;return 0}function T(r,e,t,n,o){var a,i=new Uint8Array(32);if(t<32)return-1;if(q(i,0,32,n,o),0!==N(e,16,e,32,t-32,i))return-1;for(I(r,0,e,0,t,n,o),a=0;a<32;a++)r[a]=0;return 0}function $(r,e){var t;for(t=0;t<16;t++)r[t]=0|e[t]}function W(r){var e,t;for(t=0;t<16;t++)r[t]+=65536,e=Math.floor(r[t]/65536),r[(t+1)*(t<15?1:0)]+=e-1+37*(e-1)*(15===t?1:0),r[t]-=65536*e}function M(r,e,t){for(var n,o=~(t-1),a=0;a<16;a++)n=o&(r[a]^e[a]),r[a]^=n,e[a]^=n}function z(r,e){var t,n,o,i=a(),c=a();for(t=0;t<16;t++)c[t]=e[t];for(W(c),W(c),W(c),n=0;n<2;n++){for(i[0]=c[0]-65517,t=1;t<15;t++)i[t]=c[t]-65535-(i[t-1]>>16&1),i[t-1]&=65535;i[15]=c[15]-32767-(i[14]>>16&1),o=i[15]>>16&1,i[14]&=65535,M(c,i,1-o)}for(t=0;t<16;t++)r[2*t]=255&c[t],r[2*t+1]=c[t]>>8}function j(r,e){var t=new Uint8Array(32),n=new Uint8Array(32);return z(t,r),z(n,e),x(t,0,n,0)}function Y(r){var e=new Uint8Array(32);return z(e,r),1&e[0]}function L(r,e){var t;for(t=0;t<16;t++)r[t]=e[2*t]+(e[2*t+1]<<8);r[15]&=32767}function H(r,e,t){var n;for(n=0;n<16;n++)r[n]=e[n]+t[n]|0}function V(r,e,t){var n;for(n=0;n<16;n++)r[n]=e[n]-t[n]|0}function G(r,e,t){var n,o,a=new Float64Array(31);for(n=0;n<31;n++)a[n]=0;for(n=0;n<16;n++)for(o=0;o<16;o++)a[n+o]+=e[n]*t[o];for(n=0;n<15;n++)a[n]+=38*a[n+16];for(n=0;n<16;n++)r[n]=a[n];W(r),W(r)}function D(r,e){G(r,e,e)}function J(r,e){var t,n=a();for(t=0;t<16;t++)n[t]=e[t];for(t=253;t>=0;t--)D(n,n),2!==t&&4!==t&&G(n,n,e);for(t=0;t<16;t++)r[t]=n[t]}function Z(r,e,t){var n,o,i=new Uint8Array(32),c=new Float64Array(80),s=a(),u=a(),l=a(),w=a(),d=a(),g=a();for(o=0;o<31;o++)i[o]=e[o];for(i[31]=127&e[31]|64,i[0]&=248,L(c,t),o=0;o<16;o++)u[o]=c[o],w[o]=s[o]=l[o]=0;for(s[0]=w[0]=1,o=254;o>=0;--o)M(s,u,n=i[o>>>3]>>>(7&o)&1),M(l,w,n),H(d,s,l),V(s,s,l),H(l,u,w),V(u,u,w),D(w,d),D(g,s),G(s,l,s),G(l,u,d),H(d,s,l),V(s,s,l),D(u,s),V(l,w,g),G(s,l,f),H(s,s,w),G(l,l,s),G(s,w,g),G(w,u,c),D(u,d),M(s,u,n),M(l,w,n);for(o=0;o<16;o++)c[o+16]=s[o],c[o+32]=l[o],c[o+48]=u[o],c[o+64]=w[o];var h=c.subarray(32),y=c.subarray(16);return J(h,h),G(y,y,h),z(r,y),0}function X(r,e){return Z(r,e,s)}function Q(r,e){return i(e,32),X(r,e)}function rr(r,e,t){var n=new Uint8Array(32);return Z(n,t,e),B(r,c,n,S)}var er=C,tr=T;function nr(){var r,e,t,n=0,a=0,i=0,c=0,s=65535;for(t=0;t<arguments.length;t++)n+=(r=arguments[t].lo)&s,a+=r>>>16,i+=(e=arguments[t].hi)&s,c+=e>>>16;return new o((i+=(a+=n>>>16)>>>16)&s|(c+=i>>>16)<<16,n&s|a<<16)}function or(r,e){return new o(r.hi>>>e,r.lo>>>e|r.hi<<32-e)}function ar(){var r,e=0,t=0;for(r=0;r<arguments.length;r++)e^=arguments[r].lo,t^=arguments[r].hi;return new o(t,e)}function ir(r,e){var t,n,a=32-e;return e<32?(t=r.hi>>>e|r.lo<<a,n=r.lo>>>e|r.hi<<a):e<64&&(t=r.lo>>>e|r.hi<<a,n=r.hi>>>e|r.lo<<a),new o(t,n)}function cr(r,e,t){var n=r.hi&e.hi^~r.hi&t.hi,a=r.lo&e.lo^~r.lo&t.lo;return new o(n,a)}function sr(r,e,t){var n=r.hi&e.hi^r.hi&t.hi^e.hi&t.hi,a=r.lo&e.lo^r.lo&t.lo^e.lo&t.lo;return new o(n,a)}function ur(r){return ar(ir(r,28),ir(r,34),ir(r,39))}function lr(r){return ar(ir(r,14),ir(r,18),ir(r,41))}function fr(r){return ar(ir(r,1),ir(r,8),or(r,7))}function wr(r){return ar(ir(r,19),ir(r,61),or(r,6))}var dr=[new o(1116352408,3609767458),new o(1899447441,602891725),new o(3049323471,3964484399),new o(3921009573,2173295548),new o(961987163,4081628472),new o(1508970993,3053834265),new o(2453635748,2937671579),new o(2870763221,3664609560),new o(3624381080,2734883394),new o(310598401,1164996542),new o(607225278,1323610764),new o(1426881987,3590304994),new o(1925078388,4068182383),new o(2162078206,991336113),new o(2614888103,633803317),new o(3248222580,3479774868),new o(3835390401,2666613458),new o(4022224774,944711139),new o(264347078,2341262773),new o(604807628,2007800933),new o(770255983,1495990901),new o(1249150122,1856431235),new o(1555081692,3175218132),new o(1996064986,2198950837),new o(2554220882,3999719339),new o(2821834349,766784016),new o(2952996808,2566594879),new o(3210313671,3203337956),new o(3336571891,1034457026),new o(3584528711,2466948901),new o(113926993,3758326383),new o(338241895,168717936),new o(666307205,1188179964),new o(773529912,1546045734),new o(1294757372,1522805485),new o(1396182291,2643833823),new o(1695183700,2343527390),new o(1986661051,1014477480),new o(2177026350,1206759142),new o(2456956037,344077627),new o(2730485921,1290863460),new o(2820302411,3158454273),new o(3259730800,3505952657),new o(3345764771,106217008),new o(3516065817,3606008344),new o(3600352804,1432725776),new o(4094571909,1467031594),new o(275423344,851169720),new o(430227734,3100823752),new o(506948616,1363258195),new o(659060556,3750685593),new o(883997877,3785050280),new o(958139571,3318307427),new o(1322822218,3812723403),new o(1537002063,2003034995),new o(1747873779,3602036899),new o(1955562222,1575990012),new o(2024104815,1125592928),new o(2227730452,2716904306),new o(2361852424,442776044),new o(2428436474,593698344),new o(2756734187,3733110249),new o(3204031479,2999351573),new o(3329325298,3815920427),new o(3391569614,3928383900),new o(3515267271,566280711),new o(3940187606,3454069534),new o(4118630271,4000239992),new o(116418474,1914138554),new o(174292421,2731055270),new o(289380356,3203993006),new o(460393269,320620315),new o(685471733,587496836),new o(852142971,1086792851),new o(1017036298,365543100),new o(1126000580,2618297676),new o(1288033470,3409855158),new o(1501505948,4234509866),new o(1607167915,987167468),new o(1816402316,1246189591)];function gr(r,e,t){var n,o,a,i=[],c=[],s=[],u=[];for(o=0;o<8;o++)i[o]=s[o]=b(r,8*o);for(var l=0;t>=128;){for(o=0;o<16;o++)u[o]=b(e,8*o+l);for(o=0;o<80;o++){for(a=0;a<8;a++)c[a]=s[a];for(n=nr(s[7],lr(s[4]),cr(s[4],s[5],s[6]),dr[o],u[o%16]),c[7]=nr(n,ur(s[0]),sr(s[0],s[1],s[2])),c[3]=nr(c[3],n),a=0;a<8;a++)s[(a+1)%8]=c[a];if(o%16==15)for(a=0;a<16;a++)u[a]=nr(u[a],u[(a+9)%16],fr(u[(a+1)%16]),wr(u[(a+14)%16]))}for(o=0;o<8;o++)s[o]=nr(s[o],i[o]),i[o]=s[o];l+=128,t-=128}for(o=0;o<8;o++)m(r,8*o,i[o]);return t}var hr=new Uint8Array([106,9,230,103,243,188,201,8,187,103,174,133,132,202,167,59,60,110,243,114,254,148,248,43,165,79,245,58,95,29,54,241,81,14,82,127,173,230,130,209,155,5,104,140,43,62,108,31,31,131,217,171,251,65,189,107,91,224,205,25,19,126,33,121]);function yr(r,e,t){var n,a=new Uint8Array(64),i=new Uint8Array(256),c=t;for(n=0;n<64;n++)a[n]=hr[n];for(gr(a,e,t),t%=128,n=0;n<256;n++)i[n]=0;for(n=0;n<t;n++)i[n]=e[c-t+n];for(i[t]=128,i[(t=256-128*(t<112?1:0))-9]=0,m(i,t-8,new o(c/536870912|0,c<<3)),gr(a,i,t),n=0;n<64;n++)r[n]=a[n];return 0}function pr(r,e){var t=a(),n=a(),o=a(),i=a(),c=a(),s=a(),u=a(),l=a(),f=a();V(t,r[1],r[0]),V(f,e[1],e[0]),G(t,t,f),H(n,r[0],r[1]),H(f,e[0],e[1]),G(n,n,f),G(o,r[3],e[3]),G(o,o,d),G(i,r[2],e[2]),H(i,i,i),V(c,n,t),V(s,i,o),H(u,i,o),H(l,n,t),G(r[0],c,s),G(r[1],l,u),G(r[2],u,s),G(r[3],c,l)}function vr(r,e,t){var n;for(n=0;n<4;n++)M(r[n],e[n],t)}function br(r,e){var t=a(),n=a(),o=a();J(o,e[2]),G(t,e[0],o),G(n,e[1],o),z(r,n),r[31]^=Y(t)<<7}function Ar(r,e,t){var n,o;for($(r[0],u),$(r[1],l),$(r[2],l),$(r[3],u),o=255;o>=0;--o)vr(r,e,n=t[o/8|0]>>(7&o)&1),pr(e,r),pr(r,r),vr(r,e,n)}function mr(r,e){var t=[a(),a(),a(),a()];$(t[0],g),$(t[1],h),$(t[2],l),G(t[3],g,h),Ar(r,t,e)}function Er(r,e,t){var o=new Uint8Array(64),c=[a(),a(),a(),a()];t||i(e,32);var s=n.blake2bInit(64);return n.blake2bUpdate(s,e),(o=n.blake2bFinal(s))[0]&=248,o[31]&=127,o[31]|=64,mr(c,o),br(r,c),0}function kr(r){var e=r,t=[a(),a(),a(),a()],n=new Uint8Array(32);return e[0]&=248,e[31]&=127,e[31]|=64,mr(t,e),br(n,t),n}function xr(r){var e=new Uint8Array(64),t=[a(),a(),a(),a()],o=new Uint8Array(32),i=n.blake2bInit(64);return n.blake2bUpdate(i,r),(e=n.blake2bFinal(i))[0]&=248,e[31]&=127,e[31]|=64,mr(t,e),br(o,t),o}e.camo={},e.camo.hashsecret=r=>{new Uint8Array(64),new Uint8Array(32);var e=n.blake2bInit(64);return n.blake2bUpdate(e,r),n.blake2bFinal(e)},e.camo.scalarMult=function(r,e){if(Rr(r,e),r.length!==2*Ir)throw new Error("bad n size");if(e.length!==qr)throw new Error("bad p size");var t=new Uint8Array(qr);return Z(t,r,e),t},e.camo.scalarMult.base=function(r){if(Rr(r),r.length!==2*Ir)throw new Error("bad n size");var e=new Uint8Array(qr);return X(e,r),e},e.camo.scalarbase=kr;var Pr=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Ur(r,e){var t,n,o,a;for(n=63;n>=32;--n){for(t=0,o=n-32,a=n-12;o<a;++o)e[o]+=t-16*e[n]*Pr[o-(n-32)],t=e[o]+128>>8,e[o]-=256*t;e[o]+=t,e[n]=0}for(t=0,o=0;o<32;o++)e[o]+=t-(e[31]>>4)*Pr[o],t=e[o]>>8,e[o]&=255;for(o=0;o<32;o++)e[o]-=t*Pr[o];for(n=0;n<32;n++)e[n+1]+=e[n]>>8,r[n]=255&e[n]}function Br(r){var e,t=new Float64Array(64);for(e=0;e<64;e++)t[e]=r[e];for(e=0;e<64;e++)r[e]=0;Ur(r,t)}function Sr(r,e,t,o){var i,c,s=new Uint8Array(64),u=new Uint8Array(64),l=new Uint8Array(64),f=new Float64Array(64),w=[a(),a(),a(),a()],d=xr(o),g=n.blake2bInit(64,null);n.blake2bUpdate(g,o),(s=n.blake2bFinal(g))[0]&=248,s[31]&=127,s[31]|=64;var h=t+64;for(i=0;i<t;i++)r[64+i]=e[i];for(i=0;i<32;i++)r[32+i]=s[32+i];for(g=n.blake2bInit(64,null),n.blake2bUpdate(g,r.subarray(32)),Br(l=n.blake2bFinal(g)),mr(w,l),br(r,w),i=32;i<64;i++)r[i]=d[i-32];for(g=n.blake2bInit(64,null),n.blake2bUpdate(g,r),Br(u=n.blake2bFinal(g)),i=0;i<64;i++)f[i]=0;for(i=0;i<32;i++)f[i]=l[i];for(i=0;i<32;i++)for(c=0;c<32;c++)f[i+c]+=u[i]*s[c];return Ur(r.subarray(32),f),h}function Kr(r,e){var t=a(),n=a(),o=a(),i=a(),c=a(),s=a(),f=a();return $(r[2],l),L(r[1],e),D(o,r[1]),G(i,o,w),V(o,o,r[2]),H(i,r[2],i),D(c,i),D(s,c),G(f,s,c),G(t,f,o),G(t,t,i),function(r,e){var t,n=a();for(t=0;t<16;t++)n[t]=e[t];for(t=250;t>=0;t--)D(n,n),1!==t&&G(n,n,e);for(t=0;t<16;t++)r[t]=n[t]}(t,t),G(t,t,o),G(t,t,i),G(t,t,i),G(r[0],t,i),D(n,r[0]),G(n,n,i),j(n,o)&&G(r[0],r[0],y),D(n,r[0]),G(n,n,i),j(n,o)?-1:(Y(r[0])===e[31]>>7&&V(r[0],u,r[0]),G(r[3],r[0],r[1]),0)}function _r(r,e,t,o){var i,c=new Uint8Array(32),s=new Uint8Array(64),u=[a(),a(),a(),a()],l=[a(),a(),a(),a()];if(-1,t<64)return-1;if(Kr(l,o))return-1;for(i=0;i<t;i++)r[i]=e[i];for(i=0;i<32;i++)r[i+32]=o[i];if(context=n.blake2bInit(64,null),n.blake2bUpdate(context,r),Br(s=n.blake2bFinal(context)),Ar(u,l,s),mr(l,e.subarray(32)),pr(u,l),br(c,u),t-=64,x(e,0,c,0)){for(i=0;i<t;i++)r[i]=0;return-1}for(i=0;i<t;i++)r[i]=e[i+64];return t}var qr=32,Ir=32;function Fr(r,e){if(32!==r.length)throw new Error("bad key size");if(24!==e.length)throw new Error("bad nonce size")}function Rr(){for(var r=0;r<arguments.length;r++)if(!(arguments[r]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Or(r){for(var e=0;e<r.length;e++)r[e]=0}e.lowlevel={crypto_core_hsalsa20:B,crypto_stream_xor:I,crypto_stream:q,crypto_stream_salsa20_xor:K,crypto_stream_salsa20:_,crypto_onetimeauth:O,crypto_onetimeauth_verify:N,crypto_verify_16:k,crypto_verify_32:x,crypto_secretbox:C,crypto_secretbox_open:T,crypto_scalarmult:Z,crypto_scalarmult_base:X,crypto_box_beforenm:rr,crypto_box_afternm:er,crypto_box:function(r,e,t,n,o,a){var i=new Uint8Array(32);return rr(i,o,a),er(r,e,t,n,i)},crypto_box_open:function(r,e,t,n,o,a){var i=new Uint8Array(32);return rr(i,o,a),tr(r,e,t,n,i)},crypto_box_keypair:Q,crypto_hash:yr,crypto_sign:Sr,crypto_sign_keypair:Er,crypto_sign_open:_r,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:qr,crypto_scalarmult_SCALARBYTES:Ir,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:32,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64},e.randomBytes=function(r){var e=new Uint8Array(r);return i(e,r),e},e.secretbox=function(r,e,t){Rr(r,e,t),Fr(t,e);for(var n=new Uint8Array(32+r.length),o=new Uint8Array(n.length),a=0;a<r.length;a++)n[a+32]=r[a];return C(o,n,n.length,e,t),o.subarray(16)},e.secretbox.open=function(r,e,t){Rr(r,e,t),Fr(t,e);for(var n=new Uint8Array(16+r.length),o=new Uint8Array(n.length),a=0;a<r.length;a++)n[a+16]=r[a];return n.length<32||0!==T(o,n,n.length,e,t)?null:o.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=16,e.scalarMult=function(r,e){if(Rr(r,e),r.length!==Ir)throw new Error("bad n size");if(e.length!==qr)throw new Error("bad p size");var t=new Uint8Array(qr);return Z(t,r,e),t},e.scalarMult.base=function(r){if(Rr(r),r.length!==Ir)throw new Error("bad n size");var e=new Uint8Array(qr);return X(e,r),e},e.scalarMult.scalarLength=Ir,e.scalarMult.groupElementLength=qr,e.box=function(r,t,n,o){var a=e.box.before(n,o);return e.secretbox(r,t,a)},e.box.before=function(r,e){Rr(r,e),function(r,e){if(32!==r.length)throw new Error("bad public key size");if(32!==e.length)throw new Error("bad secret key size")}(r,e);var t=new Uint8Array(32);return rr(t,r,e),t},e.box.after=e.secretbox,e.box.open=function(r,t,n,o){var a=e.box.before(n,o);return e.secretbox.open(r,t,a)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var r=new Uint8Array(32),e=new Uint8Array(32);return Q(r,e),{publicKey:r,secretKey:e}},e.box.keyPair.fromSecretKey=function(r){if(Rr(r),32!==r.length)throw new Error("bad secret key size");var e=new Uint8Array(32);return X(e,r),{publicKey:e,secretKey:new Uint8Array(r)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(r,e){if(Rr(r,e),32!==e.length)throw new Error("bad secret key size");var t=new Uint8Array(64+r.length);return Sr(t,r,r.length,e),t},e.sign.open=function(r,e){if(Rr(r,e),32!==e.length)throw new Error("bad public key size");var t=new Uint8Array(r.length),n=_r(t,r,r.length,e);if(n<0)return null;for(var o=new Uint8Array(n),a=0;a<o.length;a++)o[a]=t[a];return o},e.sign.detached=function(r,t){for(var n=e.sign(r,t),o=new Uint8Array(64),a=0;a<o.length;a++)o[a]=n[a];return o},e.sign.detached.verify=function(r,e,t){if(Rr(r,e,t),64!==e.length)throw new Error("bad signature size");if(32!==t.length)throw new Error("bad public key size");var n,o=new Uint8Array(64+r.length),a=new Uint8Array(64+r.length);for(n=0;n<64;n++)o[n]=e[n];for(n=0;n<r.length;n++)o[n+64]=r[n];return _r(a,o,o.length,t)>=0},e.sign.keyPair=function(){var r=new Uint8Array(32),e=new Uint8Array(32);return Er(r,e),{publicKey:r,secretKey:e}},e.sign.keyPair.fromUnhashedSecretKey=function(r){return Rr(r),kr(r)},e.sign.keyPair.fromSecretKey=function(r){if(Rr(r),32!==r.length)throw new Error("bad secret key size");new Uint8Array(32);return{publicKey:xr(r),secretKey:new Uint8Array(r)}},e.sign.keyPair.fromSeed=function(r){if(Rr(r),32!==r.length)throw new Error("bad seed size");for(var e=new Uint8Array(32),t=new Uint8Array(32),n=0;n<32;n++)t[n]=r[n];return Er(e,t,!0),{publicKey:e,secretKey:t}},e.sign.publicKeyLength=32,e.sign.secretKeyLength=32,e.sign.seedLength=32,e.sign.signatureLength=64,e.hash=function(r){Rr(r);var e=new Uint8Array(64);return yr(e,r,r.length),e},e.hash.hashLength=64,e.verify=function(r,e){return Rr(r,e),0!==r.length&&0!==e.length&&(r.length===e.length&&0===E(r,0,e,0,r.length))},e.setPRNG=function(r){i=r},function(){var r="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(r&&r.getRandomValues){e.setPRNG((function(e,t){var n,o=new Uint8Array(t);for(n=0;n<t;n+=65536)r.getRandomValues(o.subarray(n,n+Math.min(t-n,65536)));for(n=0;n<t;n++)e[n]=o[n];Or(o)}))}else(r=t(2))&&r.randomBytes&&e.setPRNG((function(e,t){var n,o=r.randomBytes(t);for(n=0;n<t;n++)e[n]=o[n];Or(o)}))}()},function(r,e,t){"use strict";const n=t(0),o=t(5),a=t(7),i=t(8),c=t(9),s=t(10);let u=o;const l=async(r,e,t,o)=>{const a=n.getPrivateKey(r,e),c=n.getPublicKey(a),l=n.getAccount(c);return await i.receive(s,u,l,a,t,o)},f=async(r,e,t,o)=>{const i=n.getRawStrFromBananoStr(o);return await a.send(u,r,e,t,i)},w=r=>a.isCamoAccountValid(r);r.exports.sendWithdrawalFromSeed=async(r,e,t,o)=>{const a=n.getPrivateKey(r,e);return c.withdraw(s,u,a,t,o)},r.exports.getAccountsPending=async(r,e,t)=>await u.getAccountsPending(r,e,t),r.exports.getAccountFromSeed=(r,e)=>{const t=n.getPrivateKey(r,e),o=n.getPublicKey(t);return n.getAccount(o)},r.exports.getAccountInfo=async(r,e)=>await u.getAccountInfo(r,e),r.exports.getBlockCount=async()=>await u.getBlockCount(),r.exports.bananoUtil=n,r.exports.bananodeApi=u,r.exports.camoUtil=a,r.exports.depositUtil=i,r.exports.withdrawUtil=c,r.exports.loggingUtil=s,r.exports.setBananodeApi=r=>{u=r},r.exports.getAccountHistory=async(r,e,t,n)=>await u.getAccountHistory(r,e,t,n),r.exports.openAccountFromSeed=async(r,e,t,o,a)=>{const i=n.getPrivateKey(r,e),c=n.getPublicKey(i);return await n.open(u,i,c,t,o,a)},r.exports.getBlockHash=r=>n.hash(r),r.exports.getAccountBalanceRaw=async r=>await u.getAccountBalanceRaw(r),r.exports.getBananoPartsFromRaw=n.getBananoPartsFromRaw,r.exports.getPrivateKey=n.getPrivateKey,r.exports.getPublicKey=n.getPublicKey,r.exports.getAccount=n.getAccount,r.exports.getAccountPublicKey=n.getAccountPublicKey,r.exports.sendAmountToAccount=async(r,e,t,o,a,i)=>await n.send(u,r,e,t,o,a,i).catch(r=>{throw Error(r)}),r.exports.sendAmountToAccountWithRepresentativeAndPrevious=async(r,e,t,o,a,i)=>{const c=n.getPrivateKey(r,e);return await n.sendFromPrivateKeyWithRepresentativeAndPrevious(u,c,t,o,a,i)},r.exports.changeRepresentativeForSeed=async(r,e,t)=>{const o=n.getPrivateKey(r,e);return await n.change(u,o,t)},r.exports.getSignature=(r,e)=>n.sign(r,e),r.exports.getBytesFromHex=r=>n.hexToBytes(r),r.exports.getWorkUsingCpu=(r,e)=>n.getHashCPUWorker(r,e),r.exports.getZeroedWorkBytes=n.getZeroedWorkBytes,r.exports.isWorkValid=n.isWorkValid,r.exports.getAccountValidationInfo=n.getAccountValidationInfo,r.exports.receiveDepositsForSeed=l,r.exports.getRawStrFromBananoStr=n.getRawStrFromBananoStr,r.exports.getRawStrFromBanoshiStr=n.getRawStrFromBanoshiStr,r.exports.setBananodeApiUrl=r=>{u.setUrl(r)},r.exports.getCamoPublicKey=a.getCamoPublicKey,r.exports.getSharedSecret=a.getSharedSecret,r.exports.camoReceive=async(r,e)=>await a.receive(u,r,e),r.exports.camoSend=f,r.exports.camoSendWithdrawalFromSeed=async(r,e,t,o)=>{const a=w(t);if(!a.valid)throw Error(a.message);const i=n.getPrivateKey(r,e),c=n.getPrivateKey(r,0),s=n.getAccountPublicKey(t);return await f(i,c,s,o)},r.exports.getCamoAccount=a.getCamoAccount,r.exports.getCamoAccountBalanceRaw=async(r,e)=>await a.getBalanceRaw(u,r,e),r.exports.camoGetNextPrivateKeyForReceive=async r=>await a.getFirstUnopenedPrivateKey(u,r),r.exports.camoGetAccountsPending=async(r,e,t,o,i)=>{const c=w(t);if(!c.valid)throw Error(c.message);const s=n.getPrivateKey(r,e),l=n.getAccountPublicKey(t);return await a.getAccountsPending(u,s,l,o,i)},r.exports.getCamoSharedAccountData=async(r,e,t,o)=>{const i=w(t);if(!i.valid)throw Error(i.message);const c=n.getPrivateKey(r,e),s=n.getAccountPublicKey(t);return await a.getSharedAccountData(u,c,s,o)},r.exports.receiveCamoDepositsForSeed=async(r,e,t,o,i)=>{const c=n.getPrivateKey(r,e),s=n.getAccountPublicKey(t),f=await a.getSharedSecretFromRepresentative(u,c,s);if(f){const r=f,e=n.getPrivateKey(r,o),t=await a.getCamoPublicKey(e),c=await a.getCamoAccount(t),s=await n.getAccountPublicKey(c),u=await n.getAccount(s);return await l(r,o,u,i)}},r.exports.getCamoAccountValidationInfo=w},function(r,e,t){"use strict";const n=t(6);let o;const a=async r=>{if(null==r)throw Error("'formData' is a required parameter.");return new Promise(e=>{const t=JSON.stringify(r);n({headers:{"Content-Type":"application/json"},uri:o,body:t,method:"POST",timeout:3e4},(r,t,n)=>{if(null!==r&&console.log("sendRequest response",r,n),void 0===n)e(void 0);else{const r=JSON.parse(n);e(r)}})})};e.setUrl=r=>{o=r},e.getFrontiers=async(r,e)=>{if(void 0===r)throw Error("account is a required parameter.");if(void 0===e)throw Error("count is a required parameter.");const t={action:"frontiers",account:r,count:e};return new Promise(r=>{a(t).then(e=>{r(e)})})},e.getBlockAccount=async r=>{if(void 0===r)throw Error("hash is a required parameter.");const e={action:"block_account",hash:r};return new Promise(r=>{a(e).then(e=>{r(e)})})},e.getAccountsPending=async(r,e,t)=>{if(void 0===r)throw Error("accounts is a required parameter.");if(void 0===e)throw Error("count is a required parameter.");const n={action:"accounts_pending",accounts:r,count:e,threshold:1};return void 0!==t&&(n.source=t?"true":"false"),new Promise(r=>{a(n).then(e=>{r(e)})})},e.getAccountBalanceRaw=async r=>{if(null==r)throw Error("'account' is a required parameter.");const e={action:"accounts_balances",accounts:[r]};return new Promise(t=>{a(e).then(e=>{if(null==e)return void t();const n=e.balances[r].balance;t(n)})})},e.getAccountRepresentative=async r=>{if(null==r)throw Error("'account' is a required parameter.");const e={action:"account_representative",account:r};return new Promise(r=>{a(e).then(e=>{if(void 0===e)r("");else{const t=e.representative;r(t)}})})},e.getPrevious=async r=>{if(null==r)throw Error("'account' is a required parameter.");const e={action:"accounts_frontiers",accounts:[r],count:1};return new Promise(t=>{a(e).then(e=>{if(void 0===e)t("");else if(""==e.frontiers)t("");else{const n=e.frontiers[r];t(n)}})})},e.process=async r=>{if(null==r)throw Error("'block' is a required parameter.'");const e={action:"process",block:JSON.stringify(r)};return void 0===r.work&&(e.do_work=!0),new Promise((r,t)=>{a(e).then(e=>{if(void 0===e)r("");else if(void 0===e.hash)console.log(`process reject ${JSON.stringify(e)}`),t(e);else{const t=e.hash;r(t)}})})},e.getGeneratedWork=async r=>{const e={action:"work_generate",hash:r};return new Promise(r=>{a(e).then(e=>{if(void 0===e)r("");else{0;const t=e.work;r(t)}})})},e.getAccountHistory=async(r,e,t,n)=>{if(void 0===r)throw Error("'account' is a required parameter.");if(void 0===e)throw Error("'count' is a required parameter.");const o={action:"account_history",account:r,count:e};return void 0!==t&&(o.head=t),void 0!==n&&(o.raw=n),new Promise(r=>{a(o).then(e=>{r(e)})})},e.getAccountInfo=async(r,e)=>{if(void 0===r)throw Error("'account' is a required parameter.");const t={action:"account_info",account:r};return void 0!==e&&(t.representative=e?"true":"false"),new Promise(r=>{a(t).then(e=>{r(e)})})},e.getBlocks=async(r,e)=>{if(void 0===r)throw Error("'hashes' is a required parameter.");const t={action:"blocks",hashes:r};return void 0!==e&&(t.source=e),new Promise(r=>{a(t).then(e=>{r(e)})})},e.getBlockCount=async()=>{const r={action:"block_count"};return new Promise(e=>{a(r).then(r=>{e(r)})})},e.log=console.log,e.trace=console.trace},function(r,e){r.exports=require("request")},function(r,e,t){"use strict";const n=t(3),o=t(0),a=t(1),i=r=>{const e=o.hexToBytes(r),t=c(e);return o.bytesToHex(t)},c=r=>{const e=n.camo.hashsecret(r);return n.camo.scalarMult.base(e)},s=(r,e)=>{const t=n.camo.hashsecret(r),o=n.camo.scalarMult(t,e),i=a.blake2bInit(32);return a.blake2bUpdate(i,o),a.blake2bFinal(i)},u=(r,e)=>{const t=o.hexToBytes(r),n=o.hexToBytes(e),a=s(t,n);return o.bytesToHex(a)},l=async(r,e,t)=>{const n=o.getPrivateKey(e,t);return await f(r,n)},f=async(r,e)=>{const t=o.getPublicKey(e),n=o.getAccount(t);return 0==(await r.getAccountHistory(n,1)).history.length},w=async(r,e)=>{if(void 0===r)throw Error("bananodeApi is a required parameter.");if(void 0===e)throw Error("seed is a required parameter.");const t=[],n={},a={},c={},s=(r,e)=>{const t=o.getPrivateKey(r,e),s=o.getPublicKey(t),u=o.getAccount(s),l=i(t),f=o.getAccount(l);return n[u]=t,a[u]=s,c[u]=f,u};let u=0,f=await l(r,e,u);for(t.push(s(e,u));!f;)u++,t.push(s(e,u)),f=await l(r,e,u);const w=await r.getAccountsPending(t,-1);const g=Object.keys(w.blocks),h=[];for(let e=0;e<g.length;e++){const t=g[e],i=n[t],s=a[t],u=c[t];let l=await o.isAccountOpen(r,t);const f=Object.keys(w.blocks[t]);for(let e=0;e<f.length;e++){const n=f[e],o=w.blocks[t][n];0!==e&&(l=!1);const a=await d(r,l,t,i,s,u,n,o);h.push(a)}}return h},d=async(r,e,t,n,a,i,c,s)=>{if(void 0===r)throw Error("bananodeApi is a required parameter.");if(void 0===e)throw Error("isAccountOpenFlag is a required parameter.");if(void 0===t)throw Error("account is a required parameter.");if(void 0===n)throw Error("privateKey is a required parameter.");if(void 0===a)throw Error("publicKey is a required parameter.");if(void 0===i)throw Error("representative is a required parameter.");if(void 0===c)throw Error("pendingBlockHash is a required parameter.");if(void 0===s)throw Error("pendingValueRaw is a required parameter.");const u=await r.getFrontiers(t,1);if(e){const e=u.frontiers[t],l=c,f=s,w=await o.receive(r,n,a,i,e,l,f);return w}{const e=c,t=await o.open(r,n,a,i,e,s);return t}},g=async(r,e,t)=>{if(void 0===r)throw Error("bananodeApi is a required parameter.");if(void 0===e)throw Error("toPrivateKey is a required parameter.");if(void 0===t)throw Error("fromPublicKey is a required parameter.");const n=o.getAccount(t),a=await r.getAccountRepresentative(n);if(a){const r=o.getAccountPublicKey(a);return u(e,r)}},h=async(r,e,t,n)=>{if(void 0===r)throw Error("bananodeApi is a required parameter.");if(void 0===e)throw Error("privateKey is a required parameter.");if(void 0===t)throw Error("publicKey is a required parameter.");if(void 0===n)throw Error("sharedSeedIx is a required parameter.");const a=await g(r,e,t);if(a){const r=a,e=o.getPrivateKey(r,n),t=o.getPublicKey(e),i=o.getAccount(t),c={};return c.sharedSeed=r,c.sharedPrivateKey=e,c.sharedPublicKey=t,c.sharedAccount=i,c}};e.receiveSeed=w,e.receive=async(r,e,t)=>{if(void 0===r)throw Error("bananodeApi is a required parameter.");if(void 0===e)throw Error("toPrivateKey is a required parameter.");if(void 0===t)throw Error("fromPublicKey is a required parameter.");const n=await g(r,e,t);const o=n,a=await w(r,o);return a},e.send=async(r,e,t,n,a)=>{if(void 0===r)throw Error("bananodeApi is a required parameter.");if(void 0===e)throw Error("fundingPrivateKey is a required parameter.");if(void 0===t)throw Error("fromPrivateKey is a required parameter.");if(void 0===n)throw Error("toPublicKey is a required parameter.");if(void 0===a)throw Error("amountRaw is a required parameter.");const i=o.getBananoPartsFromRaw(a);const c=(r=>{BigInt(0);const e=BigInt(1);const t=[];let n=e;for(0;n<=r;)n&r&&t.push(n),n<<=e;return t})(BigInt(i.banano));const s=[];if("0"!==i.banoshi){0;const r=o.getRawStrFromBanoshiStr(i.banoshi);0,s.push(r)}"0"!==i.raw&&s.push(i.raw);for(let r=0;r<c.length;r++){const e=c[r],t=o.getRawStrFromBananoStr(e.toString());0,s.push(t)}const u=await g(r,t,n);const l=u,f=[];let w;for(let t=0;t<s.length;t++){const n=s[t],a=t,i=o.getPrivateKey(l,a),c=o.getPublicKey(i),u=o.getAccount(c);0;const d=await o.sendFromPrivateKeyWithRepresentativeAndPrevious(r,e,u,n,void 0,w);0,w=d,f.push(d)}return f},e.getBalanceRaw=async(r,e,t)=>{const n=await g(r,e,t),a=BigInt(0);let i=a,c=0,s=!0;for(;s;){const e=o.getPrivateKey(n,c),t=o.getPublicKey(e),u=o.getAccount(t),l=await r.getAccountBalanceRaw(u),f=BigInt(l);f==a?s=!1:(i+=f,c++)}return i.toString()},e.getSharedSecret=u,e.getSharedSecretBytes=s,e.getCamoPublicKey=i,e.getCamoPublicKeyBytes=c,e.getFirstUnopenedPrivateKey=async(r,e)=>{if(void 0===r)throw Error("bananodeApi is a required parameter.");if(void 0===e)throw Error("seed is a required parameter.");let t=0,n=await l(r,e,t);for(;!n;)t++,n=await l(r,e,t);return o.getPrivateKey(e,t)},e.getCamoAccount=r=>`camo_${o.getAccountSuffix(r)}`,e.isCamoAccountValid=r=>{if(!r.startsWith("camo_1")&&!r.startsWith("camo_3")){const e={valid:!1};return e.message=`Invalid CAMO BANANO Account prefix '${r}'`,e}if(65!==r.length){const e={valid:!1};return e.message=`Invalid CAMO BANANO Account length ${r.length} of '${r}'`,e}const e=r.substring(5,65),t=o.isAccountSuffixValid(e);if(!t.valid){const e={valid:!1};return e.message=`Invalid CAMO BANANO Account '${r}', ${t.message}`,e}const n={valid:!0,message:""};return n},e.getAccountsPending=async(r,e,t,n,o)=>{if(void 0===r)throw Error("bananodeApi is a required parameter.");if(void 0===e)throw Error("toPrivateKey is a required parameter.");if(void 0===t)throw Error("fromPublicKey is a required parameter.");if(void 0===n)throw Error("sharedSeedIx is a required parameter.");if(void 0===o)throw Error("count is a required parameter.");const a=await h(r,e,t,n);if(a){const e=[a.sharedAccount];return r.getAccountsPending(e,o)}},e.getSharedAccountData=h,e.receiveBlock=d,e.getSharedSecretFromRepresentative=g},function(r,e,t){"use strict";const n=t(0),o=async(r,e,t,o,a)=>{const i=n.getPublicKey(t),c=n.getAccount(i),s=await e.getAccountsPending([c],10),u=(await e.getAccountHistory(c,1)).history;const l=[];if(0==u.length){let r=!0;const u=Object.keys(s.blocks[c]);0;for(let f=0;f<u.length;f++){const w=u[f];if(null==a||a==w){const a=s.blocks[c][w];if(r){const o=w;0;const s=await n.open(e,t,i,c,o,a);0,l.push(s),r=!1}else{const r=(await e.getFrontiers(c,1)).frontiers[c],s=w,u=a,f=await n.receive(e,t,i,o,r,s,u);0,l.push(f)}}}}else{const r=Object.keys(s.blocks[c]);for(let u=0;u<r.length;u++){const f=r[u];if(null==a||a==f){const r=s.blocks[c][f],a=await e.getFrontiers(c,1);0;const u=await e.getAccountBalanceRaw(c),w=a.frontiers[c],d=f,g=(BigInt(r)+BigInt(u)).toString(),h=await n.receive(e,t,i,o,w,d,g);0,l.push(h)}}0}return l};e.receive=async(r,e,t,n,a,i)=>{if(void 0===r)throw Error("loggingUtil is required.");if(void 0===e)throw Error("bananodeApi is required.");if(void 0===t)throw Error("account is required.");if(void 0===n)throw Error("privateKey is required.");if(void 0===a)throw Error("representative is required.");const c=await e.getAccountsPending([t],10),s={pendingCount:0,pendingBlocks:[],receiveCount:0,receiveBlocks:[],pendingMessage:"",receiveMessage:""};if(void 0!==c&&void 0!==c.blocks&&void 0!==c.blocks[t]){const u=Object.keys(c.blocks[t]);if(s.pendingMessage=`pending ${u.length} blocks, of max 10.`,s.pendingCount=u.length,s.pendingBlocks=u,u.length>0){const t=await o(r,e,n,a,i);s.receiveMessage=`received ${t.length} blocks.`,s.receiveCount=t.length,s.receiveBlocks=t}}else s.pendingMessage="pending unknown blocks, of max 10.";return s}},function(r,e,t){"use strict";const n=t(0);e.withdraw=async(r,e,t,o,a)=>{if(void 0===r)throw Error("loggingUtil is required.");if(void 0===e)throw Error("bananodeApi is required.");if(void 0===t)throw Error("privateKey is required.");if(void 0===o)throw Error("toAccount is required.");if(void 0===a)throw Error("amountBananos is required.");const i=n.getPublicKey(t),c=(n.getAccount(i),n.getRawStrFromBananoStr(a.toString()));const s=await n.sendFromPrivateKey(e,t,o,c);return s}},function(r,e,t){"use strict";e.log=console.log,e.trace=console.trace}]);